<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="show.css">
    <script src="https://kit.fontawesome.com/20945cdd74.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <h2 id="logo">MOVIES</h2>
        <ul>
            <li class="home"><a href="index.html">Home</a></li>
            <li class="moviesli"><a href="show.html">Shows</a></li>
        </ul>
    </nav>
    <section class="container">
            <section class="show-movie movie-details"></section>
    </section>

    <script>
        // Retrieve selected movie details from localStorage
          let name=localStorage.getItem('seriesName');

    //   using promise chaining:-
    //    fetch(`https://api.tvmaze.com/singlesearch/shows?q=${name}`)
    //     .then((result)=>{
    //         return result.json();
    //     })
    //     .then((result)=>{
    //         console.log(result);
    //         showMovie(result);
    //     })
    // showMovie(result);


    // using normal funciton:--
    // async function show(name){
    //     try{
    //         let myvalue=await fetch(`https://api.tvmaze.com/singlesearch/shows?q=${name}`)
    //         let result=await myvalue.json();
    //         showMovie(result);
    //     }
    //     catch(error){
    //         console.log('error',error);
    //     }
    // }
    // show(name);


    // using arrow function :--
     let data=async ()=>{
        try{
            let myvalue=await fetch(`https://api.tvmaze.com/singlesearch/shows?q=${name}`)
            let result=await myvalue.json();
            showMovie(result);
        }
        catch(error){
            console.log('error',error);
        }
    };
    data();
   

        function showMovie(result){
        const movieDetailsDiv = document.querySelector('.movie-details');
        movieDetailsDiv.innerHTML =`<div class='wrap1'>
        <div class="subwrap1">
                <img class="movieimg" src="${result.image.original}" alt="Movie Poster">
                <div class="movieinfo">
                    <h4>Title: <span class="minfo">${result.name}</span></h4>
                    <h4>Language: <span class="minfo">${result.language}</span></h4>
                    <h4>Type: <span class="minfo">${result.type}</span></h4>
                    <h4>Status: <span class="minfo">${result.status}</span></h4>
                    <h4>Summary: <span class="minfo">${result.summary}</span></h4>
                </div>
            </div>
        </div>`;
        
    }
        
    </script>
</body>
</html>
